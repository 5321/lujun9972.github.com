#+TITLE: shell中| ; &的优先级
#+AUTHOR: lujun9972
#+TAGS: 编程之旅
#+DATE: [2016-11-14 一 07:43]
#+LANGUAGE:  zh-CN#+OPTIONS:  H:6 num:nil toc:t \n:nil ::t |:t ^:nil -:nil f:t *:t <:nil

+ =|= 的优先级要高于 =;=

  #+BEGIN_SRC sh :results raw
    date; who |wc

    # 2016年 11月 14日 星期一 22:18:38 CST
    # 1       5      45
  #+END_SRC

  你会发现只有who的结果送到了wc命令.

+ 括号可以用来组合命令

  #+BEGIN_SRC sh :results raw 
    (date;who) |wc

    # 2      11      88
  #+END_SRC

  date与who的结果都送到了wc命令

  
+ =&= 的优先级高于 =;=
  
  #+BEGIN_SRC sh :results raw
    date
    sleep 5;date &
    date

    # 2016年 11月 14日 星期一 07:57:12 CST
    # 2016年 11月 14日 星期一 07:57:17 CST
    # 2016年 11月 14日 星期一 07:57:17 CST
  #+END_SRC

  你会发现终端卡住了5秒后才输出两次date的日期

  #+BEGIN_SRC sh :results raw :export both
    date
    (sleep 5;date)&
    date

    # 2016年 11月 14日 星期一 07:56:59 CST
    # 2016年 11月 14日 星期一 07:56:59 CST
    # 2016年 11月 14日 星期一 07:57:04 CST
  #+END_SRC

  这次终端没有被卡住,5秒后只输出了一次date的日期
+ =|= 的优先级高于 =&=
  
  =&= 字符表示命令的终止,而 =|= 是命令的一部分,因此安排管道线到后台执行的时候可以不用括号.

  #+BEGIN_SRC sh :results raw :export both
    date
    who |wc &
    date

    # 2016年 11月 14日 星期一 21:50:29 CST
    # 2016年 11月 14日 星期一 21:50:29 CST
    # 1       5      45
  #+END_SRC
